/* eslint-disable import/prefer-default-export */

import { SubmissionError } from 'redux-form';

import {
  /* SUBMIT_MESSAGE_START,
  SUBMIT_MESSAGE_SUCCESS,
  SUBMIT_MESSAGE_FAIL,
  SUBMIT_MESSAGE_ERROR,*/
} from '../constants';

export const submitMessage = (data) => {
    fetch('https://formspree.io/form@adamdabrowski.com', {
          headers: { Accept: 'application/json' },
          method: 'POST',
          mode: 'cors',
          data: JSON.stringify(data, null, 2),
        }).then((response) => {
            window.alert(`You submitted:\n\n${JSON.stringify(data, null, 2)}`);
            if (response.ok) {
                return Promise.resolve();
            } else if(response.status === 400) {
                return Promise.resolve();
            } else {
                return Promise.reject(response.status);
            }
        }).catch(err => Promise.reject(err));
    };

